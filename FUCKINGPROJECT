#include <stdio.h>
#include <stdlib.h>
#include <time.h>
/*
ㄴ다시입력받을때 메뉴 호출X하도록
ㄴ
*/
void menu()
{
	printf("====================\n");
	printf("%%%%%% 신나는야구%%%%%%\n");
	printf("1: 야구공선택\n");
	printf("2: 플레이\n");
	printf("3: 종료\n");
	printf("====================\n");
	printf("메뉴를 선택하세요.\n");
}

void menu1()
{
	printf("====================\n");
	printf("야구공을 선택합니다.\n");
	printf("(A~Z사이의 문자 10개를 입력해 주세요)\n");
	printf("(0: 자동 선택)\n");
	printf("====================\n");
}

void menu2()
{
	printf("====================\n");
	printf("컴퓨터가 야구공을 3개 선택했습니다.\n");
	printf("컴퓨터가 선택한 야구공을 9번안에 맞춰주세요\n");
	printf("사용하는 야구공: A, C, D, E, U, Z, W, H, I, K\n");
	printf("====================\n");
}

int main()
{
	int way, i, j, n = 10,tries=9,strike=0,ball=0;
	char Bball[10] = { 0 };
	char pitch[3];
	char bat[3];
	srand((unsigned)time(NULL));

	while (1)
	{
		menu();
		scanf("%d", &way);
		if (way == 1)
		{
			if (Bball[1] != 0)
			{
				printf("이미 야구공을 선택하셨습니다.\n");
			}
			else
			{
				menu1();
				for (i = 0; i < n; i++)
				{
					if (i == n-1)
					{
						printf("모든 야구공이 선택되었습니다:");
						for (i = 0;i < n;i++)
						{
							printf("%c", Bball[i]);
							for (j = 0;j < n - 1;j++)
								printf(",");
						}
					}
					printf("문자를 한개씩 입력해주세요.(%d개남음):", (n - i));
					scanf(" %c", &Bball[i]);
					for (j =0;j < i;j++)
					{
						if ((Bball[i] == Bball[j]) && Bball[i] != 0)
						{
							printf("%c는 이미 선택된 야구공입니다.\n",Bball[i]);
							i--;
						}
					}

					if (Bball[i] >= 'A' && Bball[i] <= 'Z')
						continue;
					else if (Bball[i] == '0')
					{
						for (i; i < n; i++)
							Bball[i] = rand() % ('Z' - 'A' + 1) + 'A';
					}
					else
					{
						printf("%c는올바른야구공이아닙니다.\n", Bball[i]);
						i--;
						continue;
					}
				}
			}
		}

		else if (way == 2)
		{
			if (Bball[1] == 0)
			{
				printf("먼저 야구공을 선택해 주세요.");
			}
			else
			{
				for (i = 0;i < 3;i++)
				{
					pitch[i] = Bball[rand() % 10 + 1];
					for (j = 0;j < i;j++)
					{
						if (pitch[i] == pitch[j])
						{
							i--;
							break;
						}
					}
				}
				menu2();
				for (i = 0;i < tries;i++)
				{
					printf("문자를 세 개 입력해 주세요 (%d회 남음): ", (tries-i));
					for (i = 0;i < 3;i++)
					{
						scanf("%c", &bat[i]);
					}
					for (i = 0;i < 3;i++)
					{
						if (pitch[i] == bat[i])
						{
							strike++;
						}
					}
				}
			}
		}

		else if (way == 3)
			break;

		else
		{
			printf("%d은 없는 메뉴입니다.\n", way);
			printf("메뉴를 선택하세요:\n");
			continue;
		}

	}

	return 0;
}
